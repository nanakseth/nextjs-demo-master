(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2972],{92972:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return qe}});var o=n(85893),a=n(67294),r=n(28889),s=n(26265),i=n(41120),l=n(59693),c=(0,i.Z)((function(e){var t,n;return{inBuildAppContainer:{width:"100%",height:"100%",display:"flex",backgroundColor:e.palette.background.paper,borderRadius:4,flexDirection:"row",flexWrap:"nowrap",position:"relative",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.2), 0px 2px 1px rgba(0, 0, 0, 0.12), 0px 1px 1px rgba(0, 0, 0, 0.14)"},inBuildAppSidebar:(t={width:260,transition:"all 0.3s ease",borderRight:"solid 1px ".concat(e.palette.borderColor.main),overflow:"hidden"},(0,s.Z)(t,e.breakpoints.up("md"),{width:300}),(0,s.Z)(t,e.breakpoints.up("xl"),{width:340}),(0,s.Z)(t,"@media screen and (max-width: 767px)",{width:"100%"}),t),inBuildAppMainContent:(n={width:"calc(100% - 260px)",transition:"all 0.3s ease",display:"flex",flexDirection:"column",backgroundColor:e.palette.background.paper},(0,s.Z)(n,e.breakpoints.up("md"),{width:"calc(100% - 300px)"}),(0,s.Z)(n,e.breakpoints.up("xl"),{width:"calc(100% - 340px)"}),(0,s.Z)(n,"@media screen and (max-width: 767px)",{width:"100%",height:"100%",position:"absolute",left:0,top:0,zIndex:3}),n),appContentHeader:(0,s.Z)({padding:"11px 20px 10px 20px",borderBottom:"1px solid ".concat((0,l.Fq)(e.palette.common.dark,.1)),display:"flex",alignItems:"center"},e.breakpoints.up("md"),{padding:"11px 30px 10px 30px"}),backBtn:{marginRight:10,marginLeft:-12,"@media screen and (min-width: 768px)":{display:"none"}},tabContainer:{borderBottom:"1px solid ".concat(e.palette.borderColor.main)},tabRoot:{fontSize:12,letterSpacing:1.25,minWidth:50,width:"50%"},chatBoxRoot:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:(0,l.Fq)(e.palette.common.dark,.05),"@media screen and (max-width: 767px)":{display:"none"}},chatBoxTitle:(0,s.Z)({fontSize:16,color:e.palette.text.disabled,fontWeight:e.typography.fontWeightBold},e.breakpoints.up("lg"),{fontSize:20}),statusDot:{width:10,height:10,backgroundColor:e.palette.success.main,borderRadius:"50%"},starIcon:{fontSize:18,marginLeft:8,color:e.palette.text.secondary},perfectScrollbarChatCon:{height:function(e){return"calc(100vh - ".concat(e.height,"px)")},display:"flex",flexDirection:"column"},titleRoot:(0,s.Z)({},e.breakpoints.down("xs"),{fontSize:14}),starIconRoot:(0,s.Z)({display:"block"},e.breakpoints.down("xs"),{fontSize:18})}})),d=n(14494),p=n(64121),u=n(22318),h=n(41598),m=n(88241),x=n(86010),g=n(88995),f=n(32427),b=(0,f.Z)((function(e){return{sidebarHeaderRoot:{padding:"15px 16px 5px"},userRoot:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:12},avatarRoot:{cursor:"pointer",position:"relative"},statusDot:{width:16,height:16,backgroundColor:function(e){return e.statusColor},borderRadius:"50%",border:"solid 1px ".concat(e.palette.common.white),position:"absolute",right:0,bottom:0,zIndex:1,"&:before":{content:'""',position:"absolute",left:"50%",top:"50%",zIndex:1,transform:"translate(-50%, -50%)",width:0,height:0,borderLeft:"4px solid transparent",borderRight:"4px solid transparent",borderTop:"4px solid ".concat(e.palette.common.white),marginTop:1}},userInfo:{marginLeft:16,transition:"all 0.3s ease",opacity:1,visibility:"visible"},userTitle:{color:e.palette.text.primary,marginBottom:0,display:"flex",flexDirection:"row",alignItems:"center",whiteSpace:"nowrap","& .MuiSvgIcon-root":{marginLeft:16}},userSubTitle:(0,s.Z)({fontSize:11,color:e.palette.text.secondary,letterSpacing:.4},e.breakpoints.up("md"),{fontSize:12}),searchRoot:{position:"relative",width:"100%","& .MuiSvgIcon-root":{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",zIndex:1,color:e.palette.text.secondary,fontSize:20},"& .MuiInputBase-root":{width:"100%"},"& .MuiInputBase-input":{height:36,borderRadius:4,border:"1px solid ".concat(e.palette.borderColor.main),color:e.palette.text.disabled,boxSizing:"border-box",padding:"5px 15px 5px 35px",transition:"all 0.3s ease",fontSize:12,"&:focus":{borderColor:e.palette.primary.main}}}}})),j=n(52387),Z=n(62822),C=n(50998),v=n(80366),y=n(95757),N=n(79584),R=n(81860),w=n(17812),I=n(9969),S=n(27773),k=n(46869),B=n(22714),D=n(63781),O=n(3646),T=n(38396),M=n(85639),z=(0,f.Z)((function(e){return{menuRoot:{"& .MuiMenu-list":(0,s.Z)({padding:16},e.breakpoints.up("md"),{padding:24})},menuItemRoot:{borderBottom:"1px solid ".concat(e.palette.borderColor.main),color:e.palette.text.disabled,paddingLeft:0,paddingRight:0,"&:hover, &.active":{color:e.palette.text.primary,backgroundColor:"transparent"},"& .MuiTouchRipple-root":{display:"none"},"&:first-child":{paddingTop:0}},statusDot:{width:16,height:16,borderRadius:"50%",marginRight:20}}})),F=function(e){var t=e.anchorEl,n=e.userStatus,a=e.handleClose,s=(e.statusColor,e.updateStatus),i=z();return(0,o.jsxs)(T.Z,{className:i.menuRoot,id:"user-status-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:a,children:[(0,o.jsxs)(M.Z,{className:(0,x.Z)(i.menuItemRoot,{active:"Online"===n}),onClick:function(){return s("Online")},children:[(0,o.jsx)(r.Z,{className:i.statusDot,style:{backgroundColor:"#8DCD03"}})," Online"]}),(0,o.jsxs)(M.Z,{className:(0,x.Z)(i.menuItemRoot,{active:"Busy"===n}),onClick:function(){return s("Busy")},children:[(0,o.jsx)(r.Z,{className:i.statusDot,style:{backgroundColor:"#FF8C00"}}),"Busy"]}),(0,o.jsxs)(M.Z,{className:(0,x.Z)(i.menuItemRoot,{active:"Don't Disturb"===n}),onClick:function(){return s("Don't Disturb")},children:[(0,o.jsx)(r.Z,{className:i.statusDot,style:{backgroundColor:"#E00930"}}),"Don't Disturb"]}),(0,o.jsxs)(M.Z,{className:(0,x.Z)(i.menuItemRoot,{active:"Offline"===n}),onClick:function(){return s("Offline")},children:[(0,o.jsx)(r.Z,{className:i.statusDot,style:{backgroundColor:"#C1C1C1"}}),"Offline"]})]})},L=(0,f.Z)((function(e){return{profileListRoot:{position:"relative","& li":{borderBottom:"1px solid ".concat(e.palette.borderColor.main),"&.MuiListItem-gutters":{padding:"10px 0"},"& .MuiListItem-gutters":{paddingTop:10,paddingBottom:10,paddingLeft:0},"& .MuiTypography-body2":{fontSize:16}}},signOutRoot:{borderBottom:"0 none !important",fontSize:14,letterSpacing:1.25,textTransform:"uppercase",cursor:"pointer",paddingTop:"20px !important",paddingBottom:"0 !important","& .MuiListItemText-primary":{color:"".concat(e.palette.text.secondary," !important")}},textColor:{"& span":{color:e.palette.text.secondary}},listIconRoot:{minWidth:10,marginRight:20,"& .MuiSvgIcon-root":{fontSize:18}},listItemAction:{right:0,"& .MuiIconButton-root, & .MuiSvgIcon-root":{fontSize:18}},profilelistTitle:{fontSize:10,textTransform:"uppercase",letterSpacing:1.5,color:e.palette.text.secondary,paddingTop:14,paddingBottom:8},personalListRoot:{paddingTop:0,paddingBottom:0,"& li":{alignItems:"flex-end","& .MuiListItemText-multiline":{margin:0},"& .MuiListItemText-primary":{color:e.palette.text.disabled,fontSize:12,letterSpacing:.4}},"& $listIconRoot":{marginBottom:2}},statusDot:{width:16,height:16,backgroundColor:function(e){return e.statusColor},borderRadius:"50%"}}})),A=function(e){var t=e.userStatus,n=e.statusColor,s=e.setUserStatus,i=a.useState(null),l=(0,p.Z)(i,2),c=l[0],d=l[1],h=L({statusColor:n});return(0,o.jsxs)(r.Z,{children:[(0,o.jsxs)(Z.Z,{dense:!0,className:h.profileListRoot,children:[(0,o.jsxs)(C.Z,{className:"pointer",onClick:function(e){d(e.currentTarget)},children:[(0,o.jsx)(k.Z,{className:h.listIconRoot,children:(0,o.jsx)(r.Z,{className:h.statusDot})}),(0,o.jsx)(y.Z,{className:h.textColor,primary:t})]}),(0,o.jsxs)(C.Z,{className:"pointer",children:[(0,o.jsx)(k.Z,{className:h.listIconRoot,children:(0,o.jsx)(N.Z,{})}),(0,o.jsx)(y.Z,{className:h.textColor,primary:"Life is short, enjoy it well"}),(0,o.jsx)(R.Z,{className:h.listItemAction,children:(0,o.jsx)(w.Z,{edge:"end","aria-label":"delete",children:(0,o.jsx)(v.Z,{})})})]}),(0,o.jsxs)(C.Z,{className:"pointer",children:[(0,o.jsx)(k.Z,{className:h.listIconRoot,children:(0,o.jsx)(S.Z,{})}),(0,o.jsx)(y.Z,{className:h.textColor,primary:"My Account"})]}),(0,o.jsxs)(C.Z,{className:"pointer",children:[(0,o.jsx)(k.Z,{className:h.listIconRoot,children:(0,o.jsx)(I.Z,{})}),(0,o.jsx)(y.Z,{className:h.textColor,primary:"Settings"})]})]}),(0,o.jsx)(u.Z,{className:h.profilelistTitle,children:"Personal Detail"}),(0,o.jsxs)(Z.Z,{dense:!0,className:(0,x.Z)(h.profileListRoot,h.personalListRoot),children:[(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(k.Z,{className:h.listIconRoot,children:(0,o.jsx)(B.Z,{})}),(0,o.jsx)(y.Z,{className:h.textColor,primary:"Name",secondary:"Savannah Nguyen"})]}),(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(k.Z,{className:h.listIconRoot,children:(0,o.jsx)(O.Z,{})}),(0,o.jsx)(y.Z,{className:h.textColor,primary:"Username",secondary:"savanah.naguyen21"})]}),(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(k.Z,{className:h.listIconRoot,children:(0,o.jsx)(D.Z,{})}),(0,o.jsx)(y.Z,{className:h.textColor,primary:"Email Address",secondary:"savanah.mail@gmail.com"})]}),(0,o.jsxs)(C.Z,{children:[(0,o.jsx)(k.Z,{className:h.listIconRoot,children:(0,o.jsx)(S.Z,{})}),(0,o.jsx)(y.Z,{className:h.textColor,primary:"Phone Number",secondary:"(022) 245 877 7896 "})]}),(0,o.jsx)(C.Z,{className:h.signOutRoot,children:(0,o.jsx)(y.Z,{className:h.textColor,primary:"Sign Out"})})]}),(0,o.jsx)(F,{anchorEl:c,handleClose:function(){d(null)},updateStatus:function(e){d(null),s(e)},statusColor:function(){switch(t){case"Online":return"#8DCD03";case"Busy":return"#FF8C00";case"Don't Disturb":return"#E00930";default:return"#C1C1C1"}}(),userStatus:t})]})},P=function(e){var t=e.searchText,n=e.setSearchText,s=a.useState(null),i=(0,p.Z)(s,2),l=i[0],c=i[1],d=a.useState("Online"),f=(0,p.Z)(d,2),Z=f[0],C=f[1],v=function(e){c(e.currentTarget)},y=function(){switch(Z){case"Online":return"#8DCD03";case"Busy":return"#FF8C00";case"Don't Disturb":return"#E00930";default:return"#C1C1C1"}},N=Boolean(l),R=b({statusColor:y()}),w=N?"user-popover":void 0;return(0,o.jsxs)(r.Z,{className:R.sidebarHeaderRoot,children:[(0,o.jsxs)(r.Z,{className:R.userRoot,children:[(0,o.jsxs)(r.Z,{onClick:v,className:R.avatarRoot,children:[(0,o.jsx)(m.Z,{size:56,src:"https://via.placeholder.com/150"}),(0,o.jsx)(r.Z,{className:R.statusDot})]}),(0,o.jsxs)(r.Z,{className:(0,x.Z)(R.userInfo,"Cmt-user-info"),children:[(0,o.jsx)(u.Z,{className:R.userTitle,component:"h3",variant:"h6",children:"Robert Johnson"}),(0,o.jsx)(u.Z,{className:R.userSubTitle,component:"span",children:"Life is short, enjoy it well"})]})]}),(0,o.jsxs)(r.Z,{className:R.searchRoot,children:[(0,o.jsx)(h.Z,{placeholder:"Search here...",inputProps:{"aria-label":"search"},value:t,onChange:function(e){return n(e.target.value)}}),(0,o.jsx)(g.Z,{})]}),(0,o.jsx)(j.ZP,{id:w,open:N,anchorEl:l,onClose:function(){c(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,o.jsxs)(r.Z,{p:{xs:4,md:6},children:[(0,o.jsxs)(r.Z,{className:R.userRoot,children:[(0,o.jsx)(m.Z,{size:56,src:"https://via.placeholder.com/150",onClick:v}),(0,o.jsxs)(r.Z,{className:(0,x.Z)(R.userInfo,"Cmt-user-info"),children:[(0,o.jsx)(u.Z,{className:R.userTitle,component:"h3",variant:"h6",children:"Robert Johnson"}),(0,o.jsx)(u.Z,{className:R.userSubTitle,component:"span",children:"Life is short, enjoy it well"})]})]}),(0,o.jsx)(A,{userStatus:Z,setUserStatus:C,statusColor:y()})]})})]})},U=n(9669),E=n.n(U),q=n(10684),_=n(3922),W=function(e){return function(t){t({type:_.uC,payload:e})}},H=function(e){return function(t){t({type:_.fg,payload:e})}},$=n(8998),J=n(41423),K=n(91482),V=n(59009),Y=(0,i.Z)((function(e){return{chatCellItem:{padding:16,borderBottom:"1px solid ".concat(e.palette.borderColor.main),display:"flex",alignItems:"center",cursor:"pointer","&:hover, &.active":{backgroundColor:(0,l.Fq)(e.palette.common.dark,.04),"& $titleRoot":{color:e.palette.primary.main}}},chatCellInfo:{width:"calc(100% - 40px)",paddingLeft:16},titleRoot:{position:"relative"},chatDesRoot:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:12,color:e.palette.text.secondary},chatAvatarRoot:{position:"relative"},statusDot:{position:"relative","& .MuiBadge-badge":{width:10,height:10,borderRadius:"50%",border:"solid 1px ".concat(e.palette.common.white),position:"absolute",right:4,top:6,zIndex:1}},badgeOnline:{backgroundColor:"#8DCD03"},badgeAway:{backgroundColor:"#FF8C00"},badgeOffline:{backgroundColor:"#C1C1C1"}}})),G=function(e){var t=e.data,n=e.currentUser,a=e.onContactSelect,s=Y();return(0,o.jsxs)(r.Z,{className:(0,x.Z)(s.chatCellItem,{active:n&&n.id===t.id}),onClick:function(){return a(t)},children:[(0,o.jsx)(r.Z,{className:s.chatAvatarRoot,children:(0,o.jsx)(V.Z,{classes:{root:s.statusDot,badge:"online"===t.status?s.badgeOnline:"away"===t.status?s.badgeAway:s.badgeOffline},variant:"dot",children:(0,o.jsx)(m.Z,{size:40,src:t.profile_pic,alt:t.name})})}),(0,o.jsxs)(r.Z,{className:s.chatCellInfo,children:[(0,o.jsx)(r.Z,{display:"flex",alignItems:"center",children:(0,o.jsx)(u.Z,{component:"div",variant:"subtitle2",className:s.titleRoot,children:t.name})}),(0,o.jsx)(u.Z,{className:s.chatDesRoot,children:t.mood})]})]})},Q=n(97148),X=n(51964),ee=n.n(X),te=n(2342),ne=n(51415),oe=n(38347),ae=n(89934);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=(0,i.Z)((function(e){return{root:{color:e.palette.text.disabled,backgroundColor:(0,l.Fq)(e.palette.common.dark,.03),height:"100%"},noRecordRoot:{fontSize:14,fontWeight:e.typography.fontWeightBold,textAlign:"center",paddingTop:50}}})),le=function(e){var t=e.content,n=(0,oe.Z)(e,["content"]),a=ie();return(0,o.jsx)(r.Z,se(se({p:4,className:a.root},n),{},{children:(0,o.jsxs)(r.Z,se(se({className:a.noRecordRoot},n),{},{children:[(0,o.jsx)(ae.Z,{src:"/images/icons/search-result.png",alt:"search result"}),(0,o.jsx)(r.Z,{children:t||"No result found"})]}))}))},ce=(0,i.Z)((function(e){return{chatCellHeader:{backgroundColor:(0,l.Fq)(e.palette.common.dark,.04),padding:16,fontSize:10,textTransform:"uppercase",color:e.palette.text.secondary,letterSpacing:1.5,borderBottom:"1px solid ".concat((0,l.Fq)(e.palette.common.dark,.04))},perfectScrollbarRoot:{height:function(e){return"calc(100vh - ".concat(e.height,"px)")}}}})),de=(0,Q.ZP)()((function(e){var t=e.contacts,n=e.currentUser,s=e.width,i=e.onContactSelect,l=(0,a.useContext)(ne.Z).showFooter,c=ce({height:(0,te.pk)(s,l)});return t.length>0?(0,o.jsx)(ee(),{className:c.perfectScrollbarRoot,children:(0,o.jsx)(K.Z,{data:function(){if(0===t.length)return[];var e=[],n=!0;return e=[{id:"header-0",header:!0,title:"Favourite"}],t.map((function(t){return n!==t.favourite&&(e=e.concat({id:"header-"+e.length,header:!0,title:"Contacts"}),n=!1),e=e.concat(t),t})),e}(),renderRow:function(e){return e.header?(0,o.jsx)(r.Z,{className:c.chatCellHeader,children:e.title},e.id):(0,o.jsx)(G,{data:e,currentUser:n,onContactSelect:i},e.id)}})}):(0,o.jsx)(le,{})})),pe=(0,i.Z)((function(e){return{chatCellItem:{padding:16,borderBottom:"1px solid ".concat(e.palette.borderColor.main),display:"flex",alignItems:"center",cursor:"pointer","&:hover, &.active":{backgroundColor:(0,l.Fq)(e.palette.common.dark,.04),"& $titleRoot":{color:e.palette.primary.main}}},chatCellInfo:{width:"calc(100% - 40px)",paddingLeft:16},titleRoot:{position:"relative"},chatDesRoot:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:12,color:e.palette.text.secondary,paddingRight:10,width:"calc(100% - 24px)"},navCount:{backgroundColor:e.palette.info.main,color:e.palette.common.white,padding:2,borderRadius:"50%",marginLeft:"auto",width:24,height:24,textAlign:"center",lineHeight:"19px"},chatAvatarRoot:{position:"relative"},statusDot:{position:"relative","& .MuiBadge-badge":{width:10,height:10,borderRadius:"50%",border:"solid 1px ".concat(e.palette.common.white),position:"absolute",right:4,top:6,zIndex:1}},badgeOnline:{backgroundColor:"#8DCD03"},badgeAway:{backgroundColor:"#FF8C00"},badgeOffline:{backgroundColor:"#C1C1C1"}}})),ue=function(e){var t=e.data,n=e.currentUser,a=e.onContactSelect,s=pe();return(0,o.jsxs)(r.Z,{className:(0,x.Z)(s.chatCellItem,{active:n&&n.id===t.id}),onClick:function(){return a(t)},children:[(0,o.jsx)(r.Z,{className:s.chatAvatarRoot,children:(0,o.jsx)(V.Z,{classes:{root:s.statusDot,badge:"online"===t.status?s.badgeOnline:"away"===t.status?s.badgeAway:s.badgeOffline},variant:"dot",children:(0,o.jsx)(m.Z,{size:40,src:t.profile_pic,alt:t.name})})}),(0,o.jsxs)(r.Z,{className:s.chatCellInfo,children:[(0,o.jsxs)(r.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(u.Z,{component:"div",variant:"subtitle2",className:s.titleRoot,children:t.name}),(0,o.jsx)(r.Z,{color:"text.secondary",fontSize:12,ml:"auto",children:t.lastMessageTime})]}),(0,o.jsxs)(r.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(u.Z,{className:s.chatDesRoot,children:t.lastMessage}),t.unreadMessage&&(0,o.jsx)(r.Z,{component:"span",className:s.navCount,children:t.unreadMessage})]})]})]})},he=(0,i.Z)((function(e){return{chatCellHeader:{backgroundColor:(0,l.Fq)(e.palette.common.dark,.04),borderBottom:"1px solid ".concat((0,l.Fq)(e.palette.common.dark,.04)),padding:16,fontSize:10,textTransform:"uppercase",color:e.palette.text.secondary,letterSpacing:1.5},perfectScrollbarRoot:{height:function(e){return"calc(100vh - ".concat(e.height,"px)")}}}})),me=(0,Q.ZP)()((function(e){var t=e.users,n=e.width,a=e.currentUser,s=e.onContactSelect,i=he({height:(0,te.pk)(n)});return t.length>0?(0,o.jsx)(ee(),{className:i.perfectScrollbarRoot,children:(0,o.jsx)(K.Z,{data:function(){if(0===t.length)return[];var e=[],n=!0;return e=[{id:"header-0",header:!0,title:"Favourite"}],t.map((function(t){return n!==t.favourite&&(e=e.concat({id:"header-"+e.length,header:!0,title:"Contacts"}),n=!1),e=e.concat(t),t})),e}(),renderRow:function(e){return e.header?(0,o.jsx)(r.Z,{className:i.chatCellHeader,children:e.title},e.id):(0,o.jsx)(ue,{currentUser:a,data:e,onContactSelect:s},e.id)}})}):(0,o.jsx)(le,{})})),xe=function(){var e=(0,d.v9)((function(e){return e.chat})),t=e.users,n=e.currentUser,s=e.contacts,i=e.isSideBarCollapsed,l=(0,a.useState)(1),p=l[0],u=l[1],h=(0,a.useState)(""),m=h[0],x=h[1],g=(0,d.I0)(),f=function(e){g(W(e))};(0,a.useEffect)((function(){g(1===p?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:""};return function(t){t((0,q.T9)()),E().get("/chat/users",{params:{filterData:e}}).then((function(e){200===e.status?(t((0,q.Vj)()),t({type:_.xH,payload:e.data})):t((0,q.Tl)("Something went wrong"))}))}}({search:m}):function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{search:""};return function(t){t((0,q.T9)()),E().get("/chat/contact/users",{params:{filterData:e}}).then((function(e){200===e.status?(t((0,q.Vj)()),t({type:_.t5,payload:e.data})):t((0,q.Tl)("Something went wrong"))}))}}({search:m}))}),[g,m,p]);var b=c({isCollapsed:i});return(0,o.jsxs)(r.Z,{className:b.inBuildAppSidebar,children:[(0,o.jsx)(P,{searchText:m,setSearchText:x}),(0,o.jsxs)($.Z,{className:b.tabContainer,value:p,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){u(t)},children:[(0,o.jsx)(J.Z,{className:b.tabRoot,label:"Chat",value:1}),(0,o.jsx)(J.Z,{className:b.tabRoot,label:"Contact",value:2})]}),1===p?(0,o.jsx)(me,{currentUser:n,users:t.sort((function(e,t){return t.favourite-e.favourite})),onContactSelect:f}):(0,o.jsx)(de,{currentUser:n,contacts:s.sort((function(e,t){return t.favourite-e.favourite})),onContactSelect:f})]})},ge=n(30381),fe=n.n(ge),be=(0,i.Z)((function(e){return{chatMainContent:{position:"relative",flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-end"},chatMsgItem:(0,s.Z)({padding:"14px 20px",display:"flex"},e.breakpoints.up("lg"),{paddingLeft:30,paddingRight:30}),sentMsgItem:{justifyContent:"flex-end","& $chatTime":{textAlign:"right"}},receivedMsgItem:{alignItems:"flex-end"},receivedMsgType:{alignItems:"center","& $chatAvatar":{marginBottom:0},"& $chatMsgContent":{marginLeft:10}},chatMsgContent:{display:"flex",flexDirection:"column",marginLeft:24},chatAvatar:{marginBottom:24},chatBubble:{backgroundColor:(0,l.Fq)(e.palette.common.dark,.04),color:e.palette.text.secondary,padding:16,borderRadius:"8px 8px 0 8px",maxWidth:600,fontSize:16,marginBottom:8},receiveBubble:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,borderRadius:"8px 8px 8px 0"},chatTime:{fontSize:12,color:e.palette.text.disabled,letterSpacing:.4},chatDateRoot:{position:"relative",display:"flex",justifyContent:"center","&:before":{content:'""',position:"absolute",top:"50%",left:0,zIndex:1,width:"100%",height:1,transform:"translateY(-50%)",backgroundColor:(0,l.Fq)(e.palette.common.dark,.12)},"& span":{position:"relative",zIndex:3,display:"inline-block",padding:"4px 10px",border:"1px solid ".concat((0,l.Fq)(e.palette.common.dark,.08)),borderRadius:4,backgroundColor:e.palette.background.paper,color:e.palette.text.secondary,fontSize:16}},chatBubbleImg:{margin:-16},chatBubbleImgRow:{marginLeft:-5,marginRight:-5,display:"flex",flexWrap:"wrap",justifyContent:"flex-end",backgroundColor:e.palette.background.paper},chatBubbleImgItem:{paddingLeft:5,paddingRight:5,paddingBottom:10},chatBubbleImgItemInner:{boxShadow:"0px 1px 1px rgba(0, 0, 0, 0.14), 0px 2px 1px rgba(0, 0, 0, 0.12), 0px 1px 3px rgba(0, 0, 0, 0.2)",borderRadius:4,cursor:"pointer",overflow:"hidden",width:100,height:100,"& img":{objectFit:"cover",display:"block"}}}})),je=n(30529),Ze=function(e){var t=e.conversation,n=e.user,s=(0,a.useState)(-1),i=s[0],l=s[1],c=be();return(0,o.jsxs)(r.Z,{className:(0,x.Z)(c.chatMsgItem,c.receivedMsgItem),children:[(0,o.jsx)(r.Z,{className:c.chatAvatar,children:(0,o.jsx)(m.Z,{size:40,src:n.profile_pic,alt:n.name})}),(0,o.jsxs)(r.Z,{className:c.chatMsgContent,children:[(0,o.jsx)(r.Z,{className:(0,x.Z)(c.chatBubble,c.receiveBubble),children:"text"===t.messageType?(0,o.jsx)(r.Z,{component:"p",children:t.message}):(0,o.jsx)(r.Z,{className:c.chatBubbleImg,children:(0,o.jsx)(r.Z,{className:c.chatBubbleImgRow,children:t.media.map((function(e,t){return(0,o.jsx)(r.Z,{className:c.chatBubbleImgItem,onClick:function(){return l(t)},children:(0,o.jsx)(r.Z,{className:c.chatBubbleImgItemInner,children:e.metaData.type.startsWith("image")?(0,o.jsx)(ae.Z,{src:e.preview,alt:e.name,height:100,width:100},t):(0,o.jsx)("iframe",{src:e.preview,title:e.name,height:100,width:100},t)})},t)}))})})}),(0,o.jsx)(r.Z,{className:c.chatTime,children:fe()(t.sentAt).format("hh:mm:ss")})]}),(0,o.jsx)(je.Z,{position:i,medias:t.media,handleClose:function(){l(-1)}})]})},Ce=n(51855),ve=function(e){var t=e.conversation,n=(0,a.useState)(-1),s=n[0],i=n[1],l=be();return(0,o.jsxs)(r.Z,{className:(0,x.Z)(l.chatMsgItem,l.sentMsgItem),children:[(0,o.jsxs)(r.Z,{className:l.chatMsgContent,children:[(0,o.jsx)(r.Z,{className:l.chatBubble,children:"text"===t.messageType?(0,o.jsx)(r.Z,{component:"p",dangerouslySetInnerHTML:{__html:(0,Ce.N1)(t.message.replace(/(?:\r\n|\r|\n)/g,"<br />"))}}):(0,o.jsx)(r.Z,{className:l.chatBubbleImg,children:(0,o.jsx)(r.Z,{className:l.chatBubbleImgRow,children:t.media.map((function(e,t){return(0,o.jsx)(r.Z,{className:l.chatBubbleImgItem,onClick:function(){return i(t)},children:(0,o.jsx)(r.Z,{className:l.chatBubbleImgItemInner,children:e.metaData.type.startsWith("image")?(0,o.jsx)(ae.Z,{src:e.preview,alt:e.name,height:100,width:100},t):(0,o.jsx)("iframe",{src:e.preview,title:e.name,height:100,width:100},t)})},t)}))})})}),(0,o.jsx)(r.Z,{className:l.chatTime,children:fe()(t.sentAt).format("hh:mm:ss")})]}),(0,o.jsx)(je.Z,{position:s,medias:t.media,handleClose:function(){i(-1)}})]})},ye=function(e){var t=e.currentUser,n=be();return(0,o.jsx)(a.Fragment,{children:(0,o.jsxs)(r.Z,{className:(0,x.Z)(n.chatMsgItem,n.receivedMsgItem,n.receivedMsgType),children:[(0,o.jsx)(r.Z,{className:n.chatAvatar,children:(0,o.jsx)(m.Z,{size:24,src:t.profile_pic,alt:t.name})}),(0,o.jsx)(r.Z,{className:n.chatMsgContent,children:(0,o.jsxs)(r.Z,{component:"p",children:[t.name,(0,o.jsxs)(r.Z,{component:"span",color:"text.disabled",children:[" ","is typing..."]})]})})]})})},Ne=function(e){return fe()(e).format("DD MMM")},Re=function(e){var t=e.conversation,n=e.selectedUser,s=be();return(0,o.jsxs)(r.Z,{className:s.chatMainContent,children:[(0,o.jsx)(K.Z,{data:function(){if(0===t.length)return[];var e=[],n=Ne(t[0].sentAt);return e=[{id:"header-0",header:!0,title:n}],t.map((function(t){var o=Ne(t.sentAt);return n!==o&&(e=e.concat({id:"header-"+e.length,header:!0,title:o})),n=o,e=e.concat(t),t})),e}(),renderRow:function(e,t){return e.header?(0,o.jsx)(r.Z,{className:s.chatDateRoot,children:(0,o.jsx)(r.Z,{component:"span",children:e.title})},t):(0,o.jsx)(a.Fragment,{children:"sent"===e.type?(0,o.jsx)(ve,{conversation:e},t):(0,o.jsx)(Ze,{conversation:e,user:n},t)},t)}}),(0,o.jsx)(ye,{currentUser:n})]})},we=n(78513),Ie=n(85984),Se=n(83817),ke=n(64379),Be=n(1747),De=[{label:"End Chat",slug:"end"},{label:"Forward Chat",slug:"forward"},{label:"User Profile",slug:"profile"}],Oe=function(e){var t=e.user,n=(0,d.I0)(),a=c();return(0,o.jsxs)(r.Z,{className:a.appContentHeader,children:[(0,o.jsx)(w.Z,{className:a.backBtn,onClick:function(){return n(W(null))},children:(0,o.jsx)(ke.Z,{})}),(0,o.jsxs)(r.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(m.Z,{size:40,src:t.profile_pic,alt:t.name}),(0,o.jsxs)(r.Z,{pl:4,children:[(0,o.jsxs)(r.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(u.Z,{className:a.titleRoot,component:"div",variant:"h3",children:t.name}),t.favourite?(0,o.jsx)(r.Z,{ml:2,children:(0,o.jsx)(Ie.Z,{className:a.starIconRoot,color:"primary"})}):(0,o.jsx)(r.Z,{ml:2,children:(0,o.jsx)(Se.Z,{})})]}),(0,o.jsxs)(r.Z,{display:"flex",alignItems:"center",children:[(0,o.jsx)(r.Z,{className:a.statusDot,style:{backgroundColor:"online"===t.status?"green":"grey"}}),(0,o.jsx)(r.Z,{component:"span",ml:1.5,fontSize:12,color:"text.secondary",children:t.status})]})]})]}),(0,o.jsx)(r.Z,{ml:"auto",children:(0,o.jsx)(Be.Z,{TriggerComponent:(0,o.jsx)(w.Z,{children:(0,o.jsx)(we.Z,{})}),items:De,onItemClick:function(e){"end"===e.slug&&n(W(null))}})})]})},Te=n(13356),Me=n(43910),ze=n(70329),Fe=n(52491);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe=(0,f.Z)((function(e){return{chatFooterRoot:(0,s.Z)({borderTop:"1px solid ".concat(e.palette.borderColor.main),backgroundColor:(0,l.Fq)(e.palette.common.dark,.04),padding:"14px 20px 15px",display:"flex",alignItems:"center",marginTop:"auto"},e.breakpoints.up("lg"),{paddingLeft:30,paddingRight:30}),textFieldRoot:{flex:1,marginLeft:5,marginRight:5,"& .MuiOutlinedInput-multiline":{padding:"10px 16px"},"& .MuiInputBase-root":{backgroundColor:(0,l.Fq)(e.palette.background.paper,.9)}},iconBtnRoot:{padding:8}}})),Ue=function(){var e=(0,a.useState)(""),t=e[0],n=e[1],r=(0,d.I0)(),s=Pe(),i=(0,Te.u)({accept:"image/*,video/*",multiple:!0,onDrop:function(e){var t,n=e.map((function(e){return Ae(Ae({preview:URL.createObjectURL(e),name:e.name},e),{},{metaData:{type:e.type,size:e.size}})}));r((t=n,function(e){e({type:_.mU,payload:t})}))}}),l=i.getRootProps,c=i.getInputProps;return(0,o.jsxs)("div",{className:s.chatFooterRoot,children:[(0,o.jsx)("input",Ae({},c())),(0,o.jsx)(w.Z,Ae(Ae({className:s.iconBtnRoot},l()),{},{children:(0,o.jsx)(ze.Z,{})})),(0,o.jsx)(Fe.Z,{id:"chat-textarea",value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){var t=e.target.value.trim();"Enter"===e.key&&!e.shiftKey&&t&&(r(H(t)),e.preventDefault(),n(""))},placeholder:"Type message...",variant:"outlined",multiline:!0,className:s.textFieldRoot}),(0,o.jsx)(w.Z,{className:s.iconBtnRoot,onClick:function(){t&&(r(H(t)),n(""))},children:(0,o.jsx)(Me.Z,{})})]})},Ee=(0,Q.ZP)()((function(e){var t=e.width,n=(0,a.useContext)(ne.Z).showFooter,s=c({height:(0,te.RG)(t,n)}),i=(0,d.I0)(),l=null,p=(0,d.v9)((function(e){return e.chat})),h=p.currentUser,m=p.conversation;(0,a.useEffect)((function(){var e;h&&i((e=h.channelId,function(t){t((0,q.T9)()),E().get("/chat/conversation",{params:{channelId:e}}).then((function(e){200===e.status?(t((0,q.Vj)()),t({type:_.KP,payload:e.data})):t((0,q.Tl)("Something went wrong"))}))}))}),[h,i]),(0,a.useEffect)((function(){l&&(l._container.scrollTop=99999)}),[m,l]);return h?(0,o.jsxs)(r.Z,{className:s.inBuildAppMainContent,children:[(0,o.jsx)(Oe,{user:h}),(0,o.jsx)(ee(),{onScrollY:function(e){e.scrollTop},className:s.perfectScrollbarChatCon,ref:function(e){l=e},children:(0,o.jsx)(Re,{conversation:m,selectedUser:h})}),(0,o.jsx)(Ue,{currentUser:h})]}):(0,o.jsxs)(r.Z,{className:s.chatBoxRoot,children:[(0,o.jsx)(r.Z,{mb:2,children:(0,o.jsx)(ae.Z,{src:"/images/chat_bubble.png"})}),(0,o.jsx)(u.Z,{className:s.chatBoxTitle,children:"Welcome to Jumbo Chat App"})]})})),qe=function(){var e=c();return(0,o.jsxs)(r.Z,{className:e.inBuildAppContainer,children:[(0,o.jsx)(xe,{}),(0,o.jsx)(Ee,{})]})}}}]);